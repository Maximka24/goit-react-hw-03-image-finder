{"version":3,"sources":["Components/GetImg/GetImg.jsx","Components/DownloadImg/DownloadImg.jsx","Components/ImgContainer/ImgContainer.jsx","Components/App.js","index.js","Components/ImgContainer/ImgContainer.module.css","Components/GetImg/GetImg.module.css","Components/DownloadImg/DownloadImg.module.css"],"names":["GetImg","state","nameImg","handleNameChangeInput","event","setState","currentTarget","value","toLowerCase","handelSubmitForm","preventDefault","trim","alert","props","onSubmit","className","s","GetContainer","this","BtnForm","type","style","width","height","placeholder","name","onChange","pattern","title","Component","DownloadImg","DownloadContainer","nameImgState","DownloadBtnImg","onClick","onClickPageState","IMG_Get_API","KEY_API","ImgContainer","imgList","page","error","status","prevPage","prevProps","prevState","imgName","fetch","then","res","ok","json","Promise","reject","Error","img","hits","catch","message","ImageGallery","map","id","webformatURL","ImageGalleryItem","ImageGalleryItemImage","src","alt","App","onSubmitNameState","getNameImg","imgPage","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.70b35188.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { BiSearch } from 'react-icons/bi';\n\nimport s from \"./GetImg.module.css\";\n\nexport default class GetImg extends Component {\n  state = {\n    nameImg: ''\n  };\n\n  handleNameChangeInput = event => {\n    this.setState({ nameImg: event.currentTarget.value.toLowerCase() })\n  }\n\n  handelSubmitForm = event => {\n    event.preventDefault();\n\n    if (this.state.nameImg.trim() === '') {\n      return alert('Введите название картинки!');\n    }\n\n    this.props.onSubmit(this.state.nameImg);\n    this.setState({ nameImg: \"\" })\n  }\n  \n  render() {\n    return (\n      <div className={ s.GetContainer }>\n        <form onSubmit={this.handelSubmitForm}>\n          <button className={ s.BtnForm } type=\"submit\">\n            <BiSearch style={ { width: 24, height: 24} }/>\n          </button>\n          <input\n            type=\"tel\"\n            placeholder=\"Search images...\"\n            name=\"number\"\n            value={this.state.nameImg}\n            onChange={this.handleNameChangeInput}\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Наименование изображения может состоять только из букв!!!\"\n            // required\n          />\n        </form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport s from \"./DownloadImg.module.css\";\n\nexport default class DownloadImg extends Component {\n\n\n  render() {\n    \n    return (\n      <div className={ s.DownloadContainer }>\n        { this.props.nameImgState !== '' &&\n          <button className={ s.DownloadBtnImg } onClick={ this.props.onClickPageState }>\n          Add image\n        </button> }\n        \n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport DownloadImg from \"../DownloadImg/DownloadImg\";\n\nimport s from './ImgContainer.module.css';\n\n\nconst IMG_Get_API = 'https://pixabay.com/api/';\nconst KEY_API = '22248336-3f9f08778186b55c7ac32d168';\n\nexport default class ImgContainer extends Component {\n  state = {\n    imgList: '',\n    page: 1,\n    error: null,\n    status: 'idle',\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n\n    if (prevProps.imgName !== this.props.imgName) {\n      this.setState({ status: 'load' });\n      \n      fetch(`${IMG_Get_API}?q=${this.props.imgName}&page=${this.state.page}&key=${KEY_API}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(res => {\n          if (res.ok) {\n            return res.json();\n          }\n\n          return Promise.reject(\n            new Error(`Нет изображения с названием ${this.props.imgName}`)\n          )\n        })\n        .then(img => this.setState({ imgList: img.hits, status: 'resolved' }))\n        .catch(error => this.setState({ error, status: 'error'}) )\n    }\n\n    if (prevState.page < this.state.page) {\n      fetch(`${IMG_Get_API}?q=${this.props.imgName}&page=${this.state.page}&key=${KEY_API}&image_type=photo&orientation=horizontal&per_page=12`)\n        .then(res => res.json())\n        .then(img => this.setState(prevState => ({ imgList: [...prevState.imgList, ...img.hits] })))\n        \n    }\n  }\n\n  \n  onClickPageState = () => {\n    this.setState(prevPage => ({ page: prevPage.page + 1 }))\n  }\n  \n  render() {\n    const { imgList, error, status } = this.state;\n\n    if (status === 'idle') {\n      return <div className={s.ImgContainer}>Введите запросы в поле выше!! </div>\n    }\n\n    if (status === 'load') {\n      return <div className={s.ImgContainer}> Загружаю (будет спинер) </div>\n    }\n    \n    if (status === 'error') {\n      return <h1 className={s.ImgContainer}> {error.message} </h1>\n    }\n\n    if (status === 'resolved') {\n      return (\n      <div className={ s.ImgContainer }>\n        { imgList && \n          <ul className={s.ImageGallery}>          \n          { imgList.map(({ id, webformatURL } ) => (\n              <li key={id} className={s.ImageGalleryItem}>\n                <img className={s.ImageGalleryItemImage} src={ webformatURL } alt={ `Картинка по запросу ${this.props.imgName}` } />                  \n              </li>\n              ))}\n          </ul>\n            \n          }\n        <DownloadImg nameImgState={this.state.imgList} onClickPageState={ this.onClickPageState }/>  \n      </div>)\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./App.module.css\";\n\nimport GetImg from \"./GetImg/GetImg.jsx\";\nimport ImgContainer from \"./ImgContainer/ImgContainer.jsx\";\n\n\nclass App extends Component {\n  state = {\n    nameImg: '',\n  }\n\n  onSubmitNameState = getNameImg => {\n    this.setState({\n      nameImg: getNameImg,\n    })\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"App\">\n        <GetImg onSubmit={ this.onSubmitNameState } />\n\n        <ImgContainer imgName={ this.state.nameImg} imgPage={ this.state.page}/>\n        \n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.module.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImgContainer\":\"ImgContainer_ImgContainer__3NYoz\",\"ImageGallery\":\"ImgContainer_ImageGallery__mL4Zb\",\"ImageGalleryItem\":\"ImgContainer_ImageGalleryItem__mdEdH\",\"ImageGalleryItemImage\":\"ImgContainer_ImageGalleryItemImage__3VVAd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"GetContainer\":\"GetImg_GetContainer__1ISzo\",\"BtnForm\":\"GetImg_BtnForm__smFNy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DownloadContainer\":\"DownloadImg_DownloadContainer__3nJnX\",\"DownloadBtnImg\":\"DownloadImg_DownloadBtnImg__1ZLqE\"};"],"sourceRoot":""}